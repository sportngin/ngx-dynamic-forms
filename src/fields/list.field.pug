doctype html
include fields

div([formGroup]='form')

    //.no-entries(*ngIf='!hasEntries')
    //    | No entries

    ul([formArrayName]='controlName')
        li.ngdf-list-item(
            *ngFor='let entry of formControl.controls; let i = index',
            listEntry,
            [formGroupName]='i',
            [class]='control.itemCssClass',
            [ngClass]='{ "ngdf-list-editing": entryState[i].editing }',
            (keydown.enter)='onSaveItemClick(entry)'
        )
            .ngdf-list-editable((click)='editEntry(i)', *ngIf='!entryState[i].editing')
                ng-template(ngFor let-control [ngForOf]='childControls')
                    +fields(true, 'entry', null)
            .ngdf-list-editor(*ngIf='entryState[i].editing')
                ng-template(ngFor let-control [ngForOf]='childControls')
                    +fields(false, 'entry', null)